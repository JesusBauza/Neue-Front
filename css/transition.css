/* --- Estilos Base para la Transición --- */

/* El contenido principal de la página */
main {
  /* Habilita la transición suave para la propiedad 'transform' */
  transition: transform 0.6s cubic-bezier(0.87, 0, 0.13, 1);
}

/* La capa que ayuda a simular el deslizamiento entre páginas */
.transition-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  background: #f0f0f0; /* Un color de fondo neutro, ajústalo al de tu sitio */
  z-index: 9999;

  /* Habilita la transición suave para la propiedad 'transform' */
  transition: transform 0.6s cubic-bezier(0.87, 0, 0.13, 1);
}

/* --- Estados de la Animación --- */

/* ESTADO 1: Al iniciar la carga de una página */
body.is-loading main {
  /* El contenido nuevo empieza 30px abajo y oculto */
  transform: translateY(30px);
  opacity: 0;
}
body.is-loading .transition-layer {
  /* La capa empieza cubriendo la pantalla */
  transform: translateY(0);
}

/* ESTADO 2: Cuando la página ya está visible y activa */
main {
  /* El contenido está en su posición normal */
  transform: translateY(0);
  opacity: 1;
  transition-property: transform, opacity; /* Animamos ambas propiedades */
  transition-duration: 0.6s;
}
.transition-layer {
  /* La capa está oculta arriba */
  transform: translateY(-100%);
}

/* ESTADO 3: Al hacer clic en un enlace para salir de la página */
body.is-exiting main {
  /* El contenido actual se desliza hacia arriba para salir */
  transform: translateY(-30px);
  opacity: 0;
}
body.is-exiting .transition-layer {
  /* La capa vuelve a cubrir la pantalla para ocultar el cambio */
  transform: translateY(0);
}
